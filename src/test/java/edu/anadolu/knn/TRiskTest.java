package edu.anadolu.knn;

import org.junit.Assert;
import org.junit.Test;

import static edu.anadolu.knn.TStats.tRisk;

public class TRiskTest {

    private final double[] base = new double[]{0.1021, 0.29326, 0.05711, 0.0, 0.05984, 0.0, 0.0, 0.0, 0.02862, 0.03518, 0.47569, 0.26307, 0.0, 0.0, 0.28504, 0.03551, 0.06722, 0.32121, 0.0, 0.07245, 0.6107, 0.0, 0.0, 0.0, 0.22392, 0.0, 0.43172, 0.0, 0.06715, 0.28618, 0.25482, 0.05495, 0.07206, 0.0, 0.01115, 0.0, 0.0, 0.13899, 0.2208, 0.10847, 0.0, 0.0, 0.0, 0.20123, 0.26957, 0.27151, 0.01494, 0.13398, 0.0, 0.21972, 0.02392, 0.09307, 0.0, 0.0, 0.15874, 0.25934, 0.0548, 0.0, 0.06516, 0.10489, 0.20117, 0.04759, 0.01289, 0.01809, 0.0, 0.23091, 0.02212, 0.0, 0.0, 0.0, 0.0, 0.38834, 0.01313, 0.04237, 0.05625, 0.24475, 0.0, 0.00995, 0.41074, 0.01392, 0.0, 0.0, 0.53026, 0.21081, 0.83653, 0.08848, 0.04418, 0.00469, 0.0, 0.07034, 0.0, 0.06682, 0.0, 0.09563, 0.01578, 0.0, 0.0, 0.48438, 0.55843, 0.06884, 0.14599, 0.2236, 0.02394, 0.05397, 0.70238, 0.0, 0.0, 0.06305, 0.5, 0.0, 0.05843, 0.19402, 0.0, 0.00487, 0.14031, 0.03286, 0.0, 0.32829, 0.31747, 0.28172, 0.13093, 0.0, 0.0, 0.28854, 0.09498, 0.65778, 0.50423, 0.0, 0.07996, 0.19394, 0.21306, 0.0, 0.0, 0.03823, 0.5731, 0.0, 0.24298, 0.04607, 0.28139, 0.35779, 0.0, 0.03218, 0.24909, 0.26094, 0.5033, 0.07742, 0.0, 0.31792, 0.0, 0.05777, 0.0, 0.0, 0.0, 0.0, 0.04738, 0.0, 0.0, 0.0, 0.0, 0.0, 0.06117, 0.01056, 0.0, 0.0, 0.42797, 0.0, 0.0, 0.0183, 0.03333, 0.01644, 0.00249, 0.0, 0.0, 0.0, 0.15626, 0.0, 0.01411, 0.02064, 0.0, 0.0, 0.00219, 0.0, 0.0, 0.02476, 0.0, 0.0, 0.0534, 0.04037, 0.0, 0.14014, 0.10631, 0.0, 0.0, 0.28605, 0.12119, 0.03096, 0.01902};

    private final double[] run = new double[]{0.11674, 0.50125, 0.39263, 0.03286, 0.09348, 0.01915, 0.0897, 0.0, 0.21404, 0.0, 0.4733, 0.11833, 0.0, 0.0, 0.50526, 0.0, 0.34423, 0.36579, 0.0, 0.0, 0.64201, 0.0, 0.0506, 0.0, 0.26975, 0.1965, 0.01494, 0.02594, 0.29559, 0.48415, 0.20119, 0.12181, 0.0, 0.0, 0.03736, 0.0, 0.03406, 0.08962, 0.32152, 0.24719, 0.0, 0.0, 0.07102, 0.09145, 0.27752, 0.136, 0.05849, 0.27046, 0.2099, 0.191, 0.16424, 0.02001, 0.0, 0.0, 0.01184, 0.15889, 0.1314, 0.0, 0.14151, 0.03717, 0.30188, 0.03308, 0.18457, 0.0, 0.0, 0.32468, 0.03152, 0.01567, 0.0, 0.0, 0.0, 0.21579, 0.0, 0.12563, 0.26887, 0.50314, 0.16381, 0.02512, 0.53302, 0.02903, 0.0, 0.0, 0.67719, 0.12764, 0.85291, 0.05507, 0.2059, 0.01793, 0.0078, 0.22178, 0.0, 0.27587, 0.0, 0.1392, 0.10458, 0.0163, 0.0, 0.61103, 0.38859, 0.33895, 0.23036, 0.29874, 0.0, 0.06208, 0.69517, 0.0, 0.0, 0.18499, 0.0, 0.17441, 0.0773, 0.16251, 0.2517, 0.0, 0.23682, 0.05898, 0.0, 0.25537, 0.69328, 0.21239, 0.30938, 0.13227, 0.0, 0.26223, 0.11983, 0.59691, 0.41932, 0.0, 0.03533, 0.43117, 0.0, 0.0, 0.0, 0.0951, 0.34425, 0.07894, 0.06419, 0.04728, 0.22435, 0.14204, 0.02339, 0.2236, 0.34954, 0.26293, 0.54413, 0.08238, 0.0, 0.02786, 0.0, 0.05777, 0.0, 0.41064, 0.0, 0.0, 0.07335, 0.23147, 0.0, 0.0, 0.0, 0.00564, 0.0, 0.1928, 0.0, 0.0, 0.8603, 0.0, 0.0, 0.10936, 0.0058, 0.15103, 0.00337, 0.0, 0.0, 0.36012, 0.29187, 0.0, 0.01566, 0.02308, 0.14214, 0.00481, 0.18835, 0.03732, 0.01075, 0.0, 0.03751, 0.0, 0.3101, 0.16474, 0.0, 0.15298, 0.1467, 0.0, 0.03929, 0.13148, 0.0132, 0.01684, 0.23117};


    @Test
    public void testTRisk() {
        Assert.assertEquals(-2.7131, tRisk(base, run, 5), 0.00005);
        Assert.assertEquals(-7.9998, tRisk(run, base, 5), 0.00005);

        Assert.assertEquals(0.9003, tRisk(base, run, 1), 0.00005);
        Assert.assertEquals(-6.2345, tRisk(run, base, 1), 0.00005);

        Assert.assertEquals(-0.7165, tRisk(base, run, 2), 0.00005);
        Assert.assertEquals(-7.1108, tRisk(run, base, 2), 0.00005);
    }
}
